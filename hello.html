<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello Tunkable Test</title>
    <script src="https://thunkable.github.io/webviewer-extension/thunkableWebviewerExtension.js"></script>
    <script>
      // მესიჯის მიღება აპიდან
      ThunkableWebviewerExtension.receiveMessage(function(message) {
        alert("Message from App: " + message);
      });

      // მესიჯის გაგზავნა აპში
      function sendMessageToApp() {
        const input = document.getElementById("userInput").value.trim();
        ThunkableWebviewerExtension.postMessage(input);
      }

      // ასევე, შიდა პასუხი ვებსაიტზე
      function respondToMessage() {
        const input = document.getElementById("userInput").value.trim().toLowerCase();
        const output = document.getElementById("response");

        if (input === "hello") {
          output.innerText = "Hi Tunkable!";
        } else {
          output.innerText = "Type 'hello' to get a response.";
        }

        // აპში მესიჯის გაგზავნა
        ThunkableWebviewerExtension.postMessage(input);
      }
    </script>
  </head>
  <body>
    <h2>Hello Tunkable Test</h2>
    <input type="text" id="userInput" placeholder="Type something...">
    <button onclick="respondToMessage()">Send</button>
    <p id="response"></p>
  </body>
</html>
